# convert to absolute paths
top_srcdir="$(cd "${top_srcdir}" && pwd -L)"
top_builddir="$(cd "${top_builddir}" && pwd -L)"

# preserve stdout so we can print commands to terminal
exec 9>&1;
echo_cmd() {
	printf "%s\n" "$*" >&9;
	"$@";
}

auto_soflags() {
	case "$(uname -s)" in
	Darwin)
		printf -- "-bundle -undefined dynamic_lookup"
		;;
	*)
		printf -- "-fPIC -shared"
		;;
	esac
}

auto_libs() {
	case "$(uname -s)" in
	Linux)
		printf -- "-lrt"
		;;
	*)
		;;
	esac
}

